# Import Wallarm Rules into Terraform Provider

- Wallarm docs: https://docs.wallarm.com/admin-en/managing/terraform-provider/
- Terraform docs: https://registry.terraform.io/providers/wallarm/wallarm/latest/docs

## Requirements

-	NodeJS (to run import script)
- Wallarm API token and API host configured in providers.tf (token should belong to the target client)

## Importing existing Wallarm rules into Terraform state

#### Navigate to Terraform project directory

#### Clean working directory
```sh
make clean
```

#### Init Terraform
```sh
make init
```

#### Prepare files for import
```sh
make import
```

Check the resources configuration file, generated by Terraform: rules_resources_config.tf

#### Run `terraform plan` and check that all resources are going to be imported
There should be no add/destroy. operations, import and change - are OK

#### Run `terraform apply` to trigger import

#### After import run again `terraform plan` to make sure that saved configuration matches API state

